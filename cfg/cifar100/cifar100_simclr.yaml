

OUTPUT_DIR: "outputs/" # 0.1* id loss + 0.1*ood loss + EMA更新特征 + 更新域标签 + thresh 0.8
 
SHOW_STEP: 100
SAVE_EPOCH: 10
MAX_EPOCH: 1000
TRAIN_STEP: 500 #
ALGORITHM:
  NAME: "SimCLR" 
MODEL:
  NAME:  "resnet50" #"Resnet34"  # "WRN_28_2" #
  LOSS:
    LABELED_LOSS: "CrossEntropyLoss" 
    LABELED_LOSS_CLASS_WEIGHT_TYPE: "None"   
    WITH_LABELED_COST_SENSITIVE: False
    UNLABELED_LOSS: "CrossEntropyLoss"
    UNLABELED_LOSS_WEIGHT: 1.0
    WITH_SUPPRESSED_CONSISTENCY: False 
    FEATURE_LOSS:
      TEMPERATURE: 0.5 
      CENTER_DECAY_RATIO: 0.9

  OPTIMIZER:
    TYPE: 'SGD'
    BASE_LR: 0.3 # 0.03
    MOMENTUM: 0.9
    WEIGHT_DECAY: 1e-4 #5e-4  
  LR_SCHEDULER:
    TYPE: 'warmup'
    LR_STEP: [200,250] 
    LR_FACTOR: 0.1
    WARM_EPOCH: 5 

DATASET:
  NAME: "cifar100"
  ROOT: "./data/cifar100" 
  NUM_CLASSES: 100
  GROUP_SPLITS: [30,35,35]
  DOMAIN_DATASET_RETURN_INDEX: True
  UNLABELED_DATASET_RETURN_INDEX: True
  LABELED_DATASET_RETURN_INDEX: True
  IMB_TYPE: 'exp'
  DL:
    NUM_LABELED_HEAD: 150
    IMB_FACTOR_L: 100
  DU:
    ID:
      NUM_UNLABELED_HEAD: 300
      IMB_FACTOR_UL: 100
      REVERSE_UL_DISTRIBUTION: False
    OOD:
      ENABLE: True
      DATASET: 'TIN'
      RATIO: 0.25 #  
    
    UNLABELED_BATCH_RATIO: 2
  BATCH_SIZE: 128
  NUM_WORKERS: 4
   
  TRANSFORM:
    UNLABELED_STRONG_AUG: True
    LABELED_STRONG_AUG: True 
RESUME: '/home/aa/xlhuang/Openset-LT-SSL/checkpoint/cifar100_IF100_R0.25_7'
 